# :lock:システムセキュリティ対策
システムセキュリティ対策

![セキュリティ対策](https://github.com/commerble/ecspec/blob/master/specs/media/systemsecurity.jpg)

# セキュリティ対策
- システムで対応する事(セキュアなインフラ、セキュアなプログラミング)と運用で対応することに分かれる。
- 運用で対応する事には、PCI DSS のようなカード情報を扱う企業の条件についてふれる。
- その他のトピックとして「カード情報の非保持、非通過」というトレンドについても触れる。
- 他に利用している外部サービス(特にクラウド)のアカウントを厳重に管理していく必要がある。


## セキュアなプログラミング
- 下記については、利用しているECサイトでどのような対策がされているか、網羅して頂きたい。
- 把握する方法としては、そもそも利用しているテクノロジーで防がれているもの、利用しているインフラで防がれているもの、
個別に対応を入れることによって防がれているものがある。
- また攻撃手法は年々色々な方法が増えているので、定期的にキャッチアップしていきたい。
- IPAの「[安全なウェブサイトの作り方](https://www.ipa.go.jp/security/vuln/websecurity.html)」は必読。


### 上記抜粋になるが、主要な点を列挙する
- SQL インジェクション
- OS コマンド・インジェクション
- パス名パラメータの未チェック／ディレクトリ・トラバーサル
- セッション管理の不備
- クロスサイト・スクリプティング
- CSRF（クロスサイト・リクエスト・フォージェリ）
- HTTP ヘッダ・インジェクション
- メールヘッダ・インジェクション
- クリックジャッキング
- バッファオーバーフロー
- アクセス制御や認可制御の欠落
- ウェブサイトの安全性向上のための取り組み
- ウェブサーバに関する対策
- DNS に関する対策
- ネットワーク盗聴への対策
- フィッシング詐欺を助長しないための対策
- パスワードに関する対策
- WAF によるウェブアプリケーションの保護
- 携帯ウェブ向けのサイトにおける注意点



## アプリケーションを構築するフレームワークで対応すべきこと
下記の攻撃手法は、アプリケーションを構築するフレームワークで対応されていることが望ましい。
プログラミングで一行一行対応すると、WAFでも検証処理が必要になるなど、手間が増える。

- フレームワークで対応すべきという観点では、昨年話題になった何件かの情報漏洩はApache Struts2 のフレームワーク、そのアップデート不足に起因するものがあった。★イントラネットは外部侵入できなくなっているので、アップデートは不要という担当者にあったことがあるが、昨今ではそのような考え方は企業のリスクを高めるものである。利用している環境のアップデートは本日では義務といえる。


### SQLインジェクション
- SQLインジェクションについては
- 古いソフト、パッケージやOSSを利用したままで、アップデートしていないケースで発生しているケースが多い。

### クロスサイトスクリプティング


## アプリケーションを構築するインフラで対応すべきこと
### セッション管理＝Cookieの扱い(secure属性)
- 重要なCookieはHTTPSのみでCookieが送信されるようにSecure属性をつける。
- HTTPで送信することによって、セッションIDなど重要な情報が漏洩する可能性がある。




## カード情報の非保持、非通過
- PCI DSS に準拠するか　カード情報を非保持とすることが2018年5月より厳格に求められている。
- 


## アカウント管理
- クラウドのアカウント管理は多要素認証を利用する。
- ECサイトの管理画面などはIP制限や、証明書による制御を検討する。


## 目次に戻る
- [目次に戻る](https://github.com/commerble/ecspec/blob/master/Readme.md)

